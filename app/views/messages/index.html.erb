<!-- app/views/messages/index.html.erb -->
<div class="max-w-2xl mx-auto p-4 space-y-6">
  <div id="messages"
       data-controller="auto-scroll"
       class="border p-4 rounded shadow"
  >
    <%= turbo_stream_from "messages" %>
    <% @messages.each do |message| %>
      <%= render partial: "messages/message", locals: { message: message } %>
    <% end %>
  </div>

  <div id="message_form">
    <%= render "messages/form" %>
  </div>
</div>